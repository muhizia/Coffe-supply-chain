{
    "swagger": "2.0",
    "info": {
        "version": "1.0.0",
        "title": "Coffee Supply Chain",
        "description": "Coffee Supply Chain Application API",
        "license": {
            "name": "MIT",
            "url": "https://opensource.org/licenses/MIT"
        }
    },
    "host": "localhost:4000",
    "basePath": "/",
    "tags": [
        {
            "name": "Users",
            "description": "API for users in the system"
        }
    ],
    "schemes": [
        "http"
    ],
    "consumes": [
        "application/json"
    ],
    "produces": [
        "application/json"
    ],
    "paths": {
        "/login": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "parameters": [
                    {
                        "name": "auth",
                        "in": "body",
                        "description": "User that we want to create",
                        "schema": {
                            "$ref": "#/definitions/Auth"
                        }
                    }
                ],
                "summary": "Authenticate a user in system",
                "responses": {
                    "201": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Auth_result"
                        }
                    }
                }
            }
        },
        "/users": {
            "get": {
                "tags": [
                    "Users"
                ],
                "security": [
                    {
                        "bearerAuth": []
                    }
                ],
                "summary": "Get all users in system",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/User_response"
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Users"
                ],
                "parameters": [
                    {
                        "name": "user",
                        "in": "body",
                        "description": "User that we want to create",
                        "schema": {
                            "$ref": "#/definitions/User"
                        }
                    }
                ],
                "summary": "Create a user in system",
                "responses": {
                    "201": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/User_response"
                        }
                    }
                }
            }
        },
        "/users/{id}": {
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "description": "ID of Country that we want to find",
                    "type": "string"
                }
            ],
            "get": {
                "tags": [
                    "Users"
                ],
                "summary": "Get a user from the system",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/User_response"
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Users"
                ],
                "parameters": [
                    {
                        "name": "user",
                        "in": "body",
                        "description": "User that we want to update",
                        "schema": {
                            "$ref": "#/definitions/User"
                        }
                    }
                ],
                "summary": "Upddate a user from the system",
                "responses": {
                    "201": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/User_response"
                        }
                    }
                }
            }
        },
        "/country": {
            "get": {
                "tags": [
                    "Countries"
                ],
                "summary": "Get all Countries from the system",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Countries"
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Countries"
                ],
                "parameters": [
                    {
                        "name": "country",
                        "in": "body",
                        "description": "Country that we want to create",
                        "schema": {
                            "$ref": "#/definitions/Countries_id"
                        }
                    }
                ],
                "summary": "Get the Country created",
                "responses": {
                    "201": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Countries_id"
                        }
                    }
                }
            }
        },
        "/country/{id}": {
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "description": "ID of Country that we want to find",
                    "type": "integer"
                }
            ],
            "get": {
                "tags": [
                    "Countries"
                ],
                "summary": "Get Country from the system",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Countries_id"
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Countries"
                ],
                "parameters": [
                    {
                        "name": "country",
                        "in": "body",
                        "description": "Country that we want to update",
                        "schema": {
                            "$ref": "#/definitions/Countries_id"
                        }
                    }
                ],
                "summary": "Get all Country from the system",
                "responses": {
                    "201": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Countries_id"
                        }
                    }
                }
            }
        },
        "/region": {
            "get": {
                "tags": [
                    "Regions"
                ],
                "summary": "Get all Regions from the system",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Regions"
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Regions"
                ],
                "parameters": [
                    {
                        "name": "region",
                        "in": "body",
                        "description": "Region that we want to create",
                        "schema": {
                            "$ref": "#/definitions/Regions_id"
                        }
                    }
                ],
                "summary": "Get the Region created",
                "responses": {
                    "201": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Regions_id"
                        }
                    }
                }
            }
        },
        "/region/country/{country_id}": {
            "get": {
                "tags": [
                    "Regions"
                ],
                "parameters": [
                    {
                        "name": "country_id",
                        "in": "path",
                        "required": true,
                        "description": "country that we want to select",
                        "schema": {
                            "$ref": "#/definitions/Regions_country_id"
                        }
                    }
                ],
                "summary": "Get all Regions from the system using country id",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Regions"
                        }
                    }
                }
            }
        },
        "/region/{id}": {
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "description": "ID of Country that we want to find",
                    "type": "integer"
                }
            ],
            "get": {
                "tags": [
                    "Regions"
                ],
                "summary": "Get Region from the system",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Regions_id"
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Regions"
                ],
                "parameters": [
                    {
                        "name": "region",
                        "in": "body",
                        "description": "Region that we want to update",
                        "schema": {
                            "$ref": "#/definitions/Regions_id"
                        }
                    }
                ],
                "summary": "Get all Region from the system",
                "responses": {
                    "201": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Regions_id"
                        }
                    }
                }
            }
        },
        "/producer": {
            "get": {
                "tags": [
                    "Producers"
                ],
                "summary": "Get all Producers from the system",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Producers"
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Producers"
                ],
                "parameters": [
                    {
                        "name": "producer",
                        "in": "body",
                        "description": "Producer that we want to update",
                        "schema": {
                            "$ref": "#/definitions/Producers_id"
                        }
                    }
                ],
                "summary": "Get all Producers from the system",
                "responses": {
                    "201": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Producers_id"
                        }
                    }
                }
            }
        },
        "/producer/{id}": {
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "description": "ID of producer that we want to find",
                    "type": "integer"
                }
            ],
            "get": {
                "tags": [
                    "Producers"
                ],
                "summary": "Get all Producers from the system",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Producers_id"
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Producers"
                ],
                "parameters": [
                    {
                        "name": "producer",
                        "in": "body",
                        "description": "Producer that we want to update",
                        "schema": {
                            "$ref": "#/definitions/Producers_id"
                        }
                    }
                ],
                "summary": "Get all Producers from the system",
                "responses": {
                    "201": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Producers_id"
                        }
                    }
                }
            }
        },
        "/supplier/{id}": {
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "description": "ID of supplier that we want to find",
                    "type": "integer"
                }
            ],
            "get": {
                "tags": [
                    "Suppliers"
                ],
                "summary": "Get all Suppliers from the system",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Producers_id"
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Suppliers"
                ],
                "parameters": [
                    {
                        "name": "supplier",
                        "in": "body",
                        "description": "Supplier that we want to update",
                        "schema": {
                            "$ref": "#/definitions/Producers_id"
                        }
                    }
                ],
                "summary": "Get all Suppliers from the system",
                "responses": {
                    "201": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Producers_id"
                        }
                    }
                }
            }
        },
        "/supplier": {
            "get": {
                "tags": [
                    "Suppliers"
                ],
                "summary": "Get all Suppliers from the system",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Producers"
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Suppliers"
                ],
                "parameters": [
                    {
                        "name": "supplier",
                        "in": "body",
                        "description": "Supplier that we want to update",
                        "schema": {
                            "$ref": "#/definitions/Producers_id"
                        }
                    }
                ],
                "summary": "Get all Suppliers from the system",
                "responses": {
                    "201": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Producers_id"
                        }
                    }
                }
            }
        },
        "/shipment/{shipment_id}": {
            "parameters": [
                {
                    "name": "shipment_id",
                    "in": "path",
                    "required": true,
                    "description": "ID of shipment that we want to find",
                    "type": "integer"
                }
            ],
            "get": {
                "tags": [
                    "Shipment"
                ],
                "summary": "Get all Shipment from the system",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Shipment_response"
                        }
                    }
                }
            },
            "put": {
                "tags": [
                    "Shipment"
                ],
                "parameters": [
                    {
                        "name": "Shipment",
                        "in": "body",
                        "description": "Shipment that we want to update",
                        "schema": {
                            "$ref": "#/definitions/Shipment_id"
                        }
                    }
                ],
                "summary": "Get all Shipments from the system",
                "responses": {
                    "201": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Shipment_response"
                        }
                    }
                }
            }
        },
        "/shipment/details/{shipment_id}": {
            "parameters": [
                {
                    "name": "shipment_id",
                    "in": "path",
                    "required": true,
                    "description": "ID of shipment that we want to find",
                    "type": "string"
                }
            ],
            "get": {
                "tags": [
                    "Shipment"
                ],
                "summary": "Get all Shipment from the system",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Shipment_response"
                        }
                    }
                }
            }
        },
        "/shipment": {
            "get": {
                "tags": [
                    "Shipment"
                ],
                "summary": "Get all Shipment from the system",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Shipment_response"
                        }
                    }
                }
            },
            "post": {
                "tags": [
                    "Shipment"
                ],
                "parameters": [
                    {
                        "name": "Shipment",
                        "in": "body",
                        "description": "Supplier that we want to update",
                        "schema": {
                            "$ref": "#/definitions/Shipment"
                        }
                    }
                ],
                "summary": "Get all Shipment from the system",
                "responses": {
                    "201": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/Shipment_response"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "User": {
            "required": [
                "email",
                "password",
                "re_type"
            ],
            "properties": {
                "email": {
                    "type": "string"
                },
                "firstname": {
                    "type": "string"
                },
                "lastname": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                },
                "re_type": {
                    "type": "string"
                }
            }
        },
        "User_response": {
            "properties": {
                "success": {
                    "type": "boolean"
                },
                "users":{
                    "type": "array",
                    "items": {
                        "items": "object",
                        "properties":{
                            "id": {
                                "type": "integer"
                            },
                            "email": {
                                "type": "string"
                            },
                            "firstname": {
                                "type": "string"
                            },
                            "lastname": {
                                "type": "string"
                            },
                            "active": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "Auth": {
            "required": [
                "email",
                "password"
            ],
            "properties": {
                "email": {
                    "type": "string"
                },
                "password": {
                    "type": "string"
                }
            }
        },
        "Auth_result":{
            "properties": {
                "success": {
                    "type": "boolean"
                },
                "token": {
                    "type": "string"
                }
            }
        },
        "Producers": {
            "properties": {
                "success": {
                    "type": "boolean"
                },
                "producers": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "ID": {
                                "type": "integer"
                            },
                            "Name": {
                                "type": "string"
                            },
                            "Country": {
                                "type": "string"
                            },
                            "Region": {
                                "type": "string"
                            },
                            "Address": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "Producers_id": {
            "properties": {
                "name": {
                    "type": "string"
                },
                "address": {
                    "type": "string"
                },
                "region_id": {
                    "type": "integer"
                }
            }
        },
        "Countries": {
            "properties": {
                "_id": {
                    "type": "integer",
                    "uniqueItems": true
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "Countries_id": {
            "properties": {
                "name": {
                    "type": "string"
                }
            }
        },
        "Regions": {
            "properties": {
                "id": {
                    "type": "integer",
                    "uniqueItems": true
                },
                "name": {
                    "type": "string"
                }
            }
        },
        "Regions_id": {
            "properties": {
                "name": {
                    "type": "string"
                },
                "country_id": {
                    "type": "integer"
                }
            }
        },
        "Regions_country_id": {
            "properties": {
                "country_id": {
                    "type": "integer"
                }
            }
        },
        "Shipment": {
            "required": ["origin_id", "destination_id", "quantity", "status"],
            "properties": {
                "origin_id": {
                    "type": "integer"
                },
                "destination_id": {
                    "type": "integer"
                },
                "quantity": {
                    "type": "integer"
                },
                "status": {
                    "type": "string"
                }
            }
        },
        "Shipment_id": {
            "properties": {
                "name": {
                    "type": "string"
                },
                "address": {
                    "type": "string"
                },
                "region_id": {
                    "type": "integer"
                }
            }
        },
        "Shipment_response": {
            "properties": {
                "success": {
                    "type": "boolean"
                },
                "producers": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "ID": {
                                "type": "integer"
                            },
                            "shipment_ID": {
                                "type": "integer"
                            },
                            "origin": {
                                "type": "string"
                            },
                            "destination": {
                                "type": "string"
                            },
                            "quantities": {
                                "type": "string"
                            },
                            "status": {
                                "type": "string"
                            }
                        }
                    }
                }
            }
        },
        "Users": {
            "type": "array",
            "$ref": "#/definitions/User"
        }
    },
    "securityDefinitions": {
        "bearerAuth": {
          "name": "Authorization",
          "in": "header",
          "type": "apiKey",
          "description": "JWT Authorization header"
        }
      },
      "security": [ { "bearerAuth": [] } ]
}